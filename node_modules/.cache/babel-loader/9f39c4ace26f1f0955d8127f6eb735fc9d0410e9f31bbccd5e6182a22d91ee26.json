{"ast":null,"code":"import Sidebar from\"./components/sidebar/Sidebar\";import Topbar from\"./components/topbar/Topbar\";import\"./app.css\";import Home from\"./pages/home/Home\";import{RouterProvider,createBrowserRouter,Navigate,Outlet}from\"react-router-dom\";import UserList from\"./pages/userList/UserList\";import User from\"./pages/user/User\";import NewUser from\"./pages/newUser/NewUser\";import Login from\"./pages/login/Login\";import{AuthContext}from\"./context/authContext/AuthContext\";import{useContext}from\"react\";import ListList from\"./pages/listList/ListList\";import List from\"./pages/list/List\";import NewList from\"./pages/newList/NewList\";import MovieList from\"./pages/movieList/MovieList\";import NewMovie from\"./pages/newMovie/NewMovie\";import{Box,Stack}from\"@mui/material\";import Movie from\"./pages/movie/Movie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useContext=useContext(AuthContext),user=_useContext.user;var Layout=function Layout(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Topbar,{}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,children:[/*#__PURE__*/_jsx(Box,{sx:{display:{xs:'none',sm:'block'}},children:/*#__PURE__*/_jsx(Sidebar,{})}),/*#__PURE__*/_jsx(Outlet,{})]})]});};var ProtectedRoute=function ProtectedRoute(_ref){var children=_ref.children;console.log(\"user: \",user);if(!user){console.log(\"back to login\");return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return children;};var router=createBrowserRouter([{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})},{path:\"/users\",element:/*#__PURE__*/_jsx(UserList,{})},{path:\"/user/:userId\",element:/*#__PURE__*/_jsx(User,{})},{path:\"/newUser\",element:/*#__PURE__*/_jsx(NewUser,{})},{path:\"/movies\",element:/*#__PURE__*/_jsx(MovieList,{})},{path:\"/movie/:movieId\",element:/*#__PURE__*/_jsx(Movie,{})},{path:\"/newMovie\",element:/*#__PURE__*/_jsx(NewMovie,{})},{path:\"/lists\",element:/*#__PURE__*/_jsx(ListList,{})},{path:\"/list/:listId\",element:/*#__PURE__*/_jsx(List,{})},{path:\"/newlist\",element:/*#__PURE__*/_jsx(NewList,{})}]},{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RouterProvider,{router:router})});}export default App;","map":{"version":3,"names":["Sidebar","Topbar","Home","RouterProvider","createBrowserRouter","Navigate","Outlet","UserList","User","NewUser","Login","AuthContext","useContext","ListList","List","NewList","MovieList","NewMovie","Box","Stack","Movie","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useContext","user","Layout","children","direction","spacing","sx","display","xs","sm","ProtectedRoute","_ref","console","log","to","router","path","element"],"sources":["C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/src/App.js"],"sourcesContent":["import Sidebar from \"./components/sidebar/Sidebar\";\nimport Topbar from \"./components/topbar/Topbar\";\nimport \"./app.css\";\nimport Home from \"./pages/home/Home\";\nimport {\n  RouterProvider,\n  createBrowserRouter,\n  Navigate,\n  Outlet,\n} from \"react-router-dom\";\nimport UserList from \"./pages/userList/UserList\";\nimport User from \"./pages/user/User\";\nimport NewUser from \"./pages/newUser/NewUser\";\nimport Login from \"./pages/login/Login\";\nimport { AuthContext } from \"./context/authContext/AuthContext\";\nimport { useContext } from \"react\";\nimport ListList from \"./pages/listList/ListList\";\nimport List from \"./pages/list/List\";\nimport NewList from \"./pages/newList/NewList\";\nimport MovieList from \"./pages/movieList/MovieList\";\nimport NewMovie from \"./pages/newMovie/NewMovie\";\nimport { Box, Stack } from \"@mui/material\";\nimport Movie from \"./pages/movie/Movie\";\n\nfunction App() {\n  const { user } = useContext(AuthContext);\n  const Layout = () => {\n    return (\n      <>\n        <Topbar />\n        <Stack direction=\"row\" spacing={2}>\n          <Box sx={{ display:{xs:'none', sm:'block'} }}>\n            <Sidebar />\n          </Box>\n          \n          <Outlet />\n        </Stack>\n        \n      </>\n        \n    );\n  };\n\n  const ProtectedRoute = ({ children }) => {\n    console.log(\"user: \", user)\n    if (!user) {\n      console.log(\"back to login\")\n      return <Navigate to=\"/login\" />;\n    }\n\n    return children;\n  };\n\n  const router = createBrowserRouter([\n    {\n      path: \"/\",\n      element: (\n        <ProtectedRoute>\n          <Layout />\n        </ProtectedRoute>\n      ),\n      children: [\n        {\n          path: \"/\",\n          element: <Home />,\n        },\n        {\n          path: \"/users\",\n          element: <UserList />,\n        },\n        {\n          path: \"/user/:userId\",\n          element: <User />,\n        },\n        {\n          path: \"/newUser\",\n          element: <NewUser />,\n        },\n        {\n          path: \"/movies\",\n          element: <MovieList />,\n        },\n        {\n          path: \"/movie/:movieId\",\n          element: <Movie />,\n        },\n        {\n          path: \"/newMovie\",\n          element: <NewMovie />,\n        },\n        {\n          path: \"/lists\",\n          element: <ListList />,\n        },\n        {\n          path: \"/list/:listId\",\n          element: <List />,\n        },\n        {\n          path: \"/newlist\",\n          element: <NewList />,\n        },\n      ],\n    },\n    {\n      path: \"/login\",\n      element: <Login />,\n    },\n  ]);\n  \n  return (\n    <div>\n      <RouterProvider router={router} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}