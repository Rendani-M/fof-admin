{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./userList.css\";import{DataGrid}from\"@mui/x-data-grid\";import{DeleteOutline}from\"@mui/icons-material\";import{userRows}from\"../../dummyData\";import{useEffect,useState}from\"react\";import{makeRequest}from\"../../axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserList(){var _useState=useState(userRows),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),newUsers=_useState4[0],setNewUsers=_useState4[1];useEffect(function(){var getNewUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,modifiedUsers;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return makeRequest.get(\"/users?new=true\",{headers:{token:\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwZTZmYzQ2NDk0Mjc3MTYwNDg4MmMxNiIsImlzQWRtaW4iOnRydWUsImlhdCI6MTYyNTgzMjMxMSwiZXhwIjoxNjI2MjY0MzExfQ.ATXV-1TTWIGyVBttTQSf0erRWjsgZ8jHQv1ZsUixbng\"}});case 3:res=_context.sent;modifiedUsers=res.data.map(function(user,index){return _objectSpread({id:index+1},user);});setNewUsers(modifiedUsers);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getNewUsers(){return _ref.apply(this,arguments);};}();getNewUsers();},[]);// console.log('users',newUsers)\nvar handleDelete=function handleDelete(id){setData(data.filter(function(item){return item.id!==id;}));};var idCount=0;var columns=[{field:\"id\",headerName:\"ID\",width:90},{field:\"username\",headerName:\"User\",width:200,renderCell:function renderCell(params){return/*#__PURE__*/_jsxs(\"div\",{className:\"userListUser\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"userListImg\",src:params.row.profilePic?params.row.profilePic:'https://toppng.com/uploads/preview/app-icon-set-login-icon-comments-avatar-icon-11553436380yill0nchdm.png',alt:\"\"}),params.row.username]});}},{field:\"email\",headerName:\"Email\",width:200},{field:\"\",headerName:\"Status\",width:120,renderCell:function renderCell(params){return/*#__PURE__*/_jsx(\"span\",{children:\"active\"});}},{field:\"\",headerName:\"Transaction Volume\",width:160,renderCell:function renderCell(params){return/*#__PURE__*/_jsx(\"span\",{children:\"R 120.00\"});}}// {\n//   field: \"action\",\n//   headerName: \"Action\",\n//   width: 150,\n//   renderCell: (params) => {\n//     return (\n//       <>\n//         <DeleteOutline\n//           className=\"userListDelete\"\n//           onClick={() => handleDelete(params.row._id)}\n//         />\n//       </>\n//     );\n//   },\n// },\n];return/*#__PURE__*/_jsx(\"div\",{className:\"userList\",children:/*#__PURE__*/_jsx(DataGrid,{rows:newUsers,disableSelectionOnClick:true,columns:columns,pageSize:8,checkboxSelection:true})});}","map":{"version":3,"names":["DataGrid","DeleteOutline","userRows","useEffect","useState","makeRequest","jsx","_jsx","jsxs","_jsxs","UserList","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","newUsers","setNewUsers","getNewUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","modifiedUsers","wrap","_callee$","_context","prev","next","get","headers","token","sent","map","user","index","_objectSpread","id","t0","console","log","stop","apply","arguments","handleDelete","filter","item","idCount","columns","field","headerName","width","renderCell","params","className","children","src","row","profilePic","alt","username","rows","disableSelectionOnClick","pageSize","checkboxSelection"],"sources":["C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/src/pages/userList/UserList.jsx"],"sourcesContent":["import \"./userList.css\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { DeleteOutline } from \"@mui/icons-material\";\nimport { userRows } from \"../../dummyData\";\nimport { useEffect, useState } from \"react\";\nimport { makeRequest } from \"../../axios\";\n\nexport default function UserList() {\n  const [data, setData] = useState(userRows);\n  const [newUsers, setNewUsers] = useState([]);\n  \n\n  useEffect(() => {\n    const getNewUsers = async () => {\n      try {\n        const res = await makeRequest.get(\"/users?new=true\", {\n          headers: {\n            token: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwZTZmYzQ2NDk0Mjc3MTYwNDg4MmMxNiIsImlzQWRtaW4iOnRydWUsImlhdCI6MTYyNTgzMjMxMSwiZXhwIjoxNjI2MjY0MzExfQ.ATXV-1TTWIGyVBttTQSf0erRWjsgZ8jHQv1ZsUixbng\",\n          },\n        });\n        const modifiedUsers = res.data.map((user, index) => ({\n          id: index + 1,\n          ...user,\n        }));\n        setNewUsers(modifiedUsers);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getNewUsers();\n  }, []);\n\n  // console.log('users',newUsers)\n  const handleDelete = (id) => {\n    setData(data.filter((item) => item.id !== id));\n  };\n \n  let idCount = 0;\n  const columns = [\n    {\n      field: \"id\",\n      headerName: \"ID\",\n      width: 90,\n    },\n    {\n      field: \"username\",\n      headerName: \"User\",\n      width: 200,\n      renderCell: (params) => {\n        return (\n          <div className=\"userListUser\">\n            <img className=\"userListImg\" src={params.row.profilePic? params.row.profilePic : 'https://toppng.com/uploads/preview/app-icon-set-login-icon-comments-avatar-icon-11553436380yill0nchdm.png'} alt=\"\" />\n            {params.row.username}\n          </div>\n        );\n      },\n    },\n    { field: \"email\", headerName: \"Email\", width: 200 },\n    {\n      field: \"\",\n      headerName: \"Status\",\n      width: 120,\n      renderCell: (params) => {\n        return (\n          <span>active</span>\n        );\n      },\n    },\n    {\n      field: \"\",\n      headerName: \"Transaction Volume\",\n      width: 160,\n      renderCell: (params) => {\n        return (\n          <span>R 120.00</span>\n        );\n      },\n    },\n    // {\n    //   field: \"action\",\n    //   headerName: \"Action\",\n    //   width: 150,\n    //   renderCell: (params) => {\n    //     return (\n    //       <>\n    //         <DeleteOutline\n    //           className=\"userListDelete\"\n    //           onClick={() => handleDelete(params.row._id)}\n    //         />\n    //       </>\n    //     );\n    //   },\n    // },\n  ];\n\n  return (\n    <div className=\"userList\">\n      <DataGrid\n        rows={newUsers}\n        disableSelectionOnClick\n        columns={columns}\n        pageSize={8}\n        checkboxSelection\n      />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}