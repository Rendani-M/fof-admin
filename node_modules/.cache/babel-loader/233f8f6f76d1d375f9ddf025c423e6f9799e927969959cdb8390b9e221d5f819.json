{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{login}from\"../../context/authContext/apiCalls\";import{AuthContext}from\"../../context/authContext/AuthContext\";import\"./login.css\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useContext=useContext(AuthContext),user=_useContext.user,isFetching=_useContext.isFetching,dispatch=_useContext.dispatch;var history=useNavigate();useEffect(function(){if(user!==null){history('/');}},[user,history]);var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return login({\"email\":email,\"password\":password},dispatch);case 3:case\"end\":return _context.stop();}},_callee);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"email\",className:\"loginInput\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",className:\"loginInput\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",onClick:handleLogin,disabled:isFetching,children:\"Login\"})]})});}","map":{"version":3,"names":["React","useContext","useEffect","useState","login","AuthContext","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useContext","user","isFetching","dispatch","history","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","stop","_x","apply","arguments","className","children","type","placeholder","onChange","target","value","onClick","disabled"],"sources":["C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/src/pages/login/Login.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { login } from \"../../context/authContext/apiCalls\";\nimport { AuthContext } from \"../../context/authContext/AuthContext\";\nimport \"./login.css\";\nimport { useNavigate  } from 'react-router-dom';\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { user, isFetching, dispatch } = useContext(AuthContext);\n  const history = useNavigate();\n\n  useEffect(() => {\n    if (user !== null) {\n      \n      history('/');\n    }\n  }, [user, history]);\n\n  const handleLogin = async(e) => {\n    e.preventDefault();\n    await login({ \"email\": email, \"password\": password }, dispatch);\n  };\n\n  return (\n    <div className=\"login\">\n      <form className=\"loginForm\">\n        <input\n          type=\"text\"\n          placeholder=\"email\"\n          className=\"loginInput\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          className=\"loginInput\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button\n          className=\"loginButton\"\n          onClick={handleLogin}\n          disabled={isFetching}\n        >\n          Login\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"2jBAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,KAAK,KAAQ,oCAAoC,CAC1D,OAASC,WAAW,KAAQ,uCAAuC,CACnE,MAAO,aAAa,CACpB,OAASC,WAAW,KAAS,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,IAAAC,SAAA,CAA0BT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAgCd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,WAAA,CAAuCpB,UAAU,CAACI,WAAW,CAAC,CAAtDiB,IAAI,CAAAD,WAAA,CAAJC,IAAI,CAAEC,UAAU,CAAAF,WAAA,CAAVE,UAAU,CAAEC,QAAQ,CAAAH,WAAA,CAARG,QAAQ,CAClC,GAAM,CAAAC,OAAO,CAAGnB,WAAW,CAAC,CAAC,CAE7BJ,SAAS,CAAC,UAAM,CACd,GAAIoB,IAAI,GAAK,IAAI,CAAE,CAEjBG,OAAO,CAAC,GAAG,CAAC,CACd,CACF,CAAC,CAAE,CAACH,IAAI,CAAEG,OAAO,CAAC,CAAC,CAEnB,GAAM,CAAAC,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,CAAC,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACzBL,CAAC,CAACM,cAAc,CAAC,CAAC,CAACH,QAAA,CAAAE,IAAA,SACb,CAAAjC,KAAK,CAAC,CAAE,OAAO,CAAEW,KAAK,CAAE,UAAU,CAAEI,QAAS,CAAC,CAAEK,QAAQ,CAAC,yBAAAW,QAAA,CAAAI,IAAA,MAAAR,OAAA,GAChE,kBAHK,CAAAL,WAAWA,CAAAc,EAAA,SAAAb,IAAA,CAAAc,KAAA,MAAAC,SAAA,OAGhB,CAED,mBACElC,IAAA,QAAKmC,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpBlC,KAAA,SAAMiC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzBpC,IAAA,UACEqC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,OAAO,CACnBH,SAAS,CAAC,YAAY,CACtBI,QAAQ,CAAE,SAAAA,SAACf,CAAC,QAAK,CAAAhB,QAAQ,CAACgB,CAAC,CAACgB,MAAM,CAACC,KAAK,CAAC,EAAC,CAC3C,CAAC,cACFzC,IAAA,UACEqC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBH,SAAS,CAAC,YAAY,CACtBI,QAAQ,CAAE,SAAAA,SAACf,CAAC,QAAK,CAAAZ,WAAW,CAACY,CAAC,CAACgB,MAAM,CAACC,KAAK,CAAC,EAAC,CAC9C,CAAC,cACFzC,IAAA,WACEmC,SAAS,CAAC,aAAa,CACvBO,OAAO,CAAExB,WAAY,CACrByB,QAAQ,CAAE5B,UAAW,CAAAqB,QAAA,CACtB,OAED,CAAQ,CAAC,EACL,CAAC,CACJ,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}