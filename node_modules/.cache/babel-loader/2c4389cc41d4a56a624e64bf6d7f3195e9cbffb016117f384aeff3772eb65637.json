{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{loginFailure,loginStart,loginSuccess,logoutAction}from\"./AuthActions\";import{makeRequest}from\"../../axios\";export var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user,dispatch){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(loginStart());_context.prev=1;_context.next=4;return makeRequest.post(\"auth/login\",user);case 4:res=_context.sent;res.data.isAdmin&&dispatch(loginSuccess(res.data));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(loginFailure());case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function login(_x,_x2){return _ref.apply(this,arguments);};}();export var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return makeRequest.post(\"auth/logout\");case 3:res=_context2.sent;dispatch(logoutAction());_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch(loginFailure());case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function logout(_x3){return _ref2.apply(this,arguments);};}();","map":{"version":3,"names":["loginFailure","loginStart","loginSuccess","logoutAction","makeRequest","login","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","dispatch","res","wrap","_callee$","_context","prev","next","post","sent","data","isAdmin","t0","stop","_x","_x2","apply","arguments","logout","_ref2","_callee2","_callee2$","_context2","_x3"],"sources":["C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/src/context/authContext/apiCalls.js"],"sourcesContent":["import { loginFailure, loginStart, loginSuccess, logoutAction } from \"./AuthActions\";\nimport { makeRequest } from \"../../axios\";\n\nexport const login = async (user, dispatch) => {\n  dispatch(loginStart());\n  try {\n    const res = await makeRequest.post(\"auth/login\", user);\n    res.data.isAdmin && dispatch(loginSuccess(res.data));\n  } catch (err) {\n    dispatch(loginFailure());\n  }\n};\n\nexport const logout = async (dispatch) => {\n  try {\n    const res = await makeRequest.post(\"auth/logout\");\n    dispatch(logoutAction());\n  } catch (err) {\n    dispatch(loginFailure());\n  }\n};"],"mappings":"kYAAA,OAASA,YAAY,CAAEC,UAAU,CAAEC,YAAY,CAAEC,YAAY,KAAQ,eAAe,CACpF,OAASC,WAAW,KAAQ,aAAa,CAEzC,MAAO,IAAM,CAAAC,KAAK,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,IAAI,CAAEC,QAAQ,MAAAC,GAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACxCN,QAAQ,CAACX,UAAU,CAAC,CAAC,CAAC,CAACe,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEH,CAAAd,WAAW,CAACe,IAAI,CAAC,YAAY,CAAER,IAAI,CAAC,QAAhDE,GAAG,CAAAG,QAAA,CAAAI,IAAA,CACTP,GAAG,CAACQ,IAAI,CAACC,OAAO,EAAIV,QAAQ,CAACV,YAAY,CAACW,GAAG,CAACQ,IAAI,CAAC,CAAC,CAACL,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAErDJ,QAAQ,CAACZ,YAAY,CAAC,CAAC,CAAC,CAAC,yBAAAgB,QAAA,CAAAQ,IAAA,MAAAd,OAAA,gBAE5B,kBARY,CAAAL,KAAKA,CAAAoB,EAAA,CAAAC,GAAA,SAAApB,IAAA,CAAAqB,KAAA,MAAAC,SAAA,OAQjB,CAED,MAAO,IAAM,CAAAC,MAAM,6BAAAC,KAAA,CAAAvB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAsB,SAAOnB,QAAQ,MAAAC,GAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAkB,UAAAC,SAAA,iBAAAA,SAAA,CAAAhB,IAAA,CAAAgB,SAAA,CAAAf,IAAA,SAAAe,SAAA,CAAAhB,IAAA,GAAAgB,SAAA,CAAAf,IAAA,SAEf,CAAAd,WAAW,CAACe,IAAI,CAAC,aAAa,CAAC,QAA3CN,GAAG,CAAAoB,SAAA,CAAAb,IAAA,CACTR,QAAQ,CAACT,YAAY,CAAC,CAAC,CAAC,CAAC8B,SAAA,CAAAf,IAAA,iBAAAe,SAAA,CAAAhB,IAAA,GAAAgB,SAAA,CAAAV,EAAA,CAAAU,SAAA,aAEzBrB,QAAQ,CAACZ,YAAY,CAAC,CAAC,CAAC,CAAC,yBAAAiC,SAAA,CAAAT,IAAA,MAAAO,QAAA,gBAE5B,kBAPY,CAAAF,MAAMA,CAAAK,GAAA,SAAAJ,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAOlB"},"metadata":{},"sourceType":"module","externalDependencies":[]}