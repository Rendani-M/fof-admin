{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{createMovieFailure,createMovieStart,createMovieSuccess,deleteMovieFailure,deleteMovieStart,deleteMovieSuccess,getMovieFailure,getMovieStart,getMovieSuccess,getMoviesFailure,getMoviesStart,getMoviesSuccess,updateMovieFailure,updateMovieStart,updateMovieSuccess}from\"./MovieActions\";import{makeRequest}from\"../../axios\";//get All movies\nexport var getMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(getMoviesStart());_context.prev=1;_context.next=4;return makeRequest.get(\"/movies\",{headers:{token:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}});case 4:res=_context.sent;dispatch(getMoviesSuccess(res.data));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(getMoviesFailure());case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function getMovies(_x){return _ref.apply(this,arguments);};}();//get a movie\nexport var getMovie=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id,dispatch){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch(getMovieStart());_context2.prev=1;_context2.next=4;return makeRequest.get(\"/movies/find/\".concat(id),{headers:{Authorization:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}});case 4:res=_context2.sent;dispatch(getMovieSuccess(res.data));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch(getMovieFailure());case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function getMovie(_x2,_x3){return _ref2.apply(this,arguments);};}();//create\nexport var createMovie=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(movie,dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:dispatch(createMovieStart());_context3.next=3;return makeRequest.post(\"/movies\",movie,{headers:{token:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}}).then(function(response){// add a then method to handle the success response\nalert(\"Movie created successfully!\");// display a success message in an alert box\ndispatch(createMovieSuccess(response.data));// move the dispatch action here\n}).catch(function(error){// add a catch method to handle the error response\nalert(error.response.data.message);// display the custom message in an alert box\ndispatch(createMovieFailure());// move the dispatch action here\n});case 3:case\"end\":return _context3.stop();}},_callee3);}));return function createMovie(_x4,_x5){return _ref3.apply(this,arguments);};}();//delete\nexport var updateMovie=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id,inputs,dispatch){var movie;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:dispatch(updateMovieStart());_context4.prev=1;_context4.next=4;return makeRequest.put(\"/movies/\"+id,inputs,{headers:{token:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}});case 4:movie=_context4.sent;dispatch(updateMovieSuccess(movie.data));return _context4.abrupt(\"return\",movie.data);case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](1);dispatch(updateMovieFailure());throw _context4.t0;case 13:case\"end\":return _context4.stop();}},_callee4,null,[[1,9]]);}));return function updateMovie(_x6,_x7,_x8){return _ref4.apply(this,arguments);};}();//delete\nexport var deleteMovie=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id,dispatch){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:dispatch(deleteMovieStart());_context5.prev=1;_context5.next=4;return makeRequest.delete(\"/movies/\"+id,{headers:{token:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}});case 4:dispatch(deleteMovieSuccess(id));_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](1);dispatch(deleteMovieFailure());case 10:case\"end\":return _context5.stop();}},_callee5,null,[[1,7]]);}));return function deleteMovie(_x9,_x10){return _ref5.apply(this,arguments);};}();","map":{"version":3,"names":["axios","createMovieFailure","createMovieStart","createMovieSuccess","deleteMovieFailure","deleteMovieStart","deleteMovieSuccess","getMovieFailure","getMovieStart","getMovieSuccess","getMoviesFailure","getMoviesStart","getMoviesSuccess","updateMovieFailure","updateMovieStart","updateMovieSuccess","makeRequest","getMovies","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","res","wrap","_callee$","_context","prev","next","get","headers","token","JSON","parse","localStorage","getItem","accessToken","sent","data","t0","stop","_x","apply","arguments","getMovie","_ref2","_callee2","id","_callee2$","_context2","concat","Authorization","_x2","_x3","createMovie","_ref3","_callee3","movie","_callee3$","_context3","post","then","response","alert","catch","error","message","_x4","_x5","updateMovie","_ref4","_callee4","inputs","_callee4$","_context4","put","abrupt","_x6","_x7","_x8","deleteMovie","_ref5","_callee5","_callee5$","_context5","delete","_x9","_x10"],"sources":["C:/Users/makha/OneDrive/Documents/React projects/Portfolio/frontend-backend/netflix-app-mern/admin2/src/context/movieContext/apiCalls.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  createMovieFailure,\n  createMovieStart,\n  createMovieSuccess,\n  deleteMovieFailure,\n  deleteMovieStart,\n  deleteMovieSuccess,\n  getMovieFailure,\n  getMovieStart,\n  getMovieSuccess,\n  getMoviesFailure,\n  getMoviesStart,\n  getMoviesSuccess,\n  updateMovieFailure,\n  updateMovieStart,\n  updateMovieSuccess,\n} from \"./MovieActions\";\nimport { makeRequest } from \"../../axios\";\n\n//get All movies\nexport const getMovies = async (dispatch) => {\n  dispatch(getMoviesStart());\n  try {\n    const res = await makeRequest.get(\"/movies\", {\n      headers: {\n        token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\n      },\n    });\n    dispatch(getMoviesSuccess(res.data));\n  } catch (err) {\n    dispatch(getMoviesFailure());\n  }\n};\n\n//get a movie\nexport const getMovie = async (id, dispatch) => {\n  dispatch(getMovieStart());\n  try {\n    const res = await makeRequest.get(`/movies/find/${id}`, {\n      headers: {\n        Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\n      },\n    });\n    dispatch(getMovieSuccess(res.data));\n  } catch (err) {\n    dispatch(getMovieFailure());\n  }\n};\n\n//create\nexport const createMovie = async (movie, dispatch) => {\n  dispatch(createMovieStart());\n  await makeRequest.post(\"/movies\", movie, {\n    headers: {\n      token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\n    },\n  }).then (function (response) { // add a then method to handle the success response\n      alert(\"Movie created successfully!\"); // display a success message in an alert box\n      dispatch(createMovieSuccess(response.data)); // move the dispatch action here\n  }).catch (function (error) { // add a catch method to handle the error response\n      alert(error.response.data.message); // display the custom message in an alert box\n      dispatch(createMovieFailure()); // move the dispatch action here\n  });\n };\n \n//delete\nexport const updateMovie = async (id, inputs, dispatch) => {\n  dispatch(updateMovieStart());\n  try {\n    const movie = await makeRequest.put(\"/movies/\" + id, inputs, {\n      headers: {\n        token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\n      },\n    });\n    dispatch(updateMovieSuccess(movie.data));\n    return movie.data;\n  } catch (err) {\n    dispatch(updateMovieFailure());\n    throw err;\n  }\n};\n\n\n//delete\nexport const deleteMovie = async (id, dispatch) => {\n  dispatch(deleteMovieStart());\n  try {\n    await makeRequest.delete(\"/movies/\" + id, {\n      headers: {\n        token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\n      },\n    });\n    dispatch(deleteMovieSuccess(id));\n  } catch (err) {\n    dispatch(deleteMovieFailure());\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}